
s.reboot;
s.quit;
thisProcess.platform.recordingsDir;
Server.default.makeGui
Server.killAll;
s = Server.local;
s.boot;
(
~amibe = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/amibe.aif");
~astronaut = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/astronaut.aif");
~bass = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/bass.aif");
~bassy = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/bassy.aif");
~broadHits = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/broadHits.aif");
~cannonShot = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/cannonShot.aif");
~cans = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/cans.aif");
~cans2 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/cans2.aif");
~cesium = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/cesium.aif");
~chirp = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/chirp.aif");
~clank0 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/clank0.aif");
~clank1 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/clank1.aif");
~clank2 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/clank2.aif");
~cloche = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/cloche.aif");
~cosmonaut = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/cosmonaut.aif");
~cricketMachineGun = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/cricketMachineGun.aif");
~distantBird = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/distantBird.aif");
~distantWar = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/distantWar.aif");
~flyaway = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/flyaway.aif");
~foghorn = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/foghorn.aif");
~foghorn2 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/foghorn2.aif");
~fondu = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/fondu.aif");
~ghostStation = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/ghostStation.aif");
~ghostTrain = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/ghostTrain.aif");
~grumble = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/grumble.aif");
~happy = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/happy.aif");
~hitRev = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/hitRev.aif");
~horizon = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/horizon.aif");
~lowBeatles = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/lowBeatles.aif");
~lowString = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/lowString.aif");
~lowSwell = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/lowSwell.aif");
~makeMeLow = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/makeMeLow.aif");
~metalicSwell = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/metalicSwell.aif");
~noiseRattle = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/noiseRattle.aif");
~pulseTrain = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/pulseTrain.aif");
~roundclank = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/roundclank.aif");
~scifi = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/scifi.aif");
~sillyup = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/sillyup.aif");
~sinwhistle = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/sinwhistle.aif");
~subWoof = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/subWoof.aif");
~swell0 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/swell0.aif");
~swell1 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/swell1.aif");
~swell2 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/swell2.aif");
~swell3 = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/swell3.aif");
~swish = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/swish.aif");
~tweety = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/tweety.aif");
~twinkle = Buffer.read(s,"/Users/mikesolomon/Documents/Compositions/overtime/dJm1k3s0l/pigeon/twinkle.aif");
)
(
SynthDef(\simple1, {|bufnum, rate, startpos = 0, loop = 0, doneAction = 2|
	var snd;
	snd = PlayBuf.ar(1, bufnum, BufRateScale.kr(bufnum), 1, startpos, loop, doneAction);
	Out.ar(0, snd);
}).send(s);

SynthDef(\simple2, {|bufnum, rate, startpos = 0, loop = 0, doneAction = 2|
	var snd;
	snd = PlayBuf.ar(2, bufnum, BufRateScale.kr(bufnum), 1, startpos, loop, doneAction);
	Out.ar(0, snd);
}).send(s);
SynthDef(\makeSpace, {| bufnum, laglo = 0.1, laghi = 2, loop = 0, doneAction = 2 |
	var sound, x, y;

	x = (Lag.kr(TRand.kr(0,1,Impulse.kr(TRand.kr(0,1,Impulse.kr(0.5)))), SinOsc.kr(0.5).range(laglo, laghi)) * 2) - 1;
	y = Lag.kr(TRand.kr(0,1,Impulse.kr(TRand.kr(0,1,Impulse.kr(0.5)))), SinOsc.kr(0.5).range(laglo, laghi));
	sound = PlayBuf.ar(1, bufnum, BufRateScale.kr(bufnum), loop: loop, doneAction: doneAction);
	sound = LPF.ar(sound, 20000 - (y * 19000));
	sound = Pan2.ar(sound, x);
	Out.ar(0, sound * (1/(((y * 98) + 2)**1.2)));

}).send(s);
)

(
~singleton = { |bufnum, ilooplo = 0, iloophi = 4, olooplo = 50, oloophi = 100, swaitlo = 0.2, swaithi = 0.2, lwaitlo = 0, lwaithi = 4|
Routine {
	// total not necessary...
	var total = 0.0;
	var oloopn = { olooplo + (oloophi - olooplo).rand }.value;
	oloopn.value.do {
		var iloopn = { lwaitlo + (lwaithi - lwaitlo).rand }.value;
		var iwaitv = { swaitlo + (swaithi - swaitlo).rand }.value;
		var owaitv = { ilooplo + (iloophi - ilooplo).rand }.value;
		iloopn.value.do {
			Synth(\makeSpace, [\out, 4, \bufnum, bufnum, \loop, 0, \doneAction, 2]);
			iwaitv.wait;
			//"playing inner".postln;
			total = total + iwaitv;
		};
		owaitv.wait;
		total = total + owaitv;
	}
}.play
}
)
(
Routine.new({
	Synth.new(\simple2, [\bufnum, ~distantWar, \loop, 1]);
	6.0.wait;
	~singleton.value(~cosmonaut);
}).play;
)

Synth.new(\simple2, [\bufnum, ~tweety, \startpos, 44100*0.0]);